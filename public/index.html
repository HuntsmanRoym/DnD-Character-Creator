<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Character Creator</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.4/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <script src="characterCreator.js"></script>
</head>

<body id="mainBody" ng-app="characterCreator">

<div class="container-fluid" ng-controller="mainCtrl" ng-hide="loading">
    <h1>DnD Character Creator</h1>
    <div layout="row" style="float: right;" ng-show="logged_in">
        <button ng-click="logOut()">Logout</button>
    </div>
    <div ng-show="!logged_in">
        <input type="text" ng-model="uname" placeholder="Username" size="20" maxlength="20">
        <input type="password" ng-model="pword" placeholder="Password" size="16" maxlength="16">
        <button ng-click="logIn(uname, pword)">Login</button>
    </div>

    <div ng-show="logged_in" layout="column" style="height: 80vh; width: 90vw;">
        <div layout="row" ng-show="curPage===0">
            <b>page 1!!!!</b>

            <div class="panel panel-default" ng-repeat="character in characters">
                <div class="panel-heading">
                    {{character.name}}, Level {{character.level}} {{character.class}} {{character.subclass}}
                    <button ng-click="character.isCollapsed = !character.isCollapsed">Show more</button>
                </div>
                <div collapse="element.isCollapsed"><div ng-show="character.isCollapsed" class="panel-body ">Test Data</div></div>
            </div>

        </div>

        <div layout="row" ng-show="curPage===1">
            <b>Race + Gender</b>
        </div>

        <div layout="row" ng-show="curPage===2">
            <b>Class + subclass</b>
        </div>

        <div layout="row" ng-show="curPage===3">
            <b>Stats</b>
        </div>

        <div layout="row" ng-show="curPage===4">
            <b>Feats + Proficiencies</b>
        </div>

        <div layout="row" ng-show="curPage===5">
            <b>Skills/Abilities</b>
            <p>TODO: Skill 1</p>
            <p>TODO: Skill 2</p>
            <p>TODO: Power 1</p>
            <p>TODO: Power 2</p>
            <form novalidate>
            <label> Power 1:
                <select ng-model="power1Ctrl.value" ng-model-options="{ getterSetter: true }">
            <option ng-repeat="x in serverData" value="{{x.powerId}}">{{x.name}}</option>
            </select> </label>
                {{power1Ctrl.value()}}
            </form>
        </div>

        <div layout="row" ng-show="curPage===6">

            <b>Character Skills</b>
                <br>
            <h1>Choose 3 Skills:</h1>
                    <h2>Skill 1: </h2>
                        <select>
                            <option ng-repeat="x in serverData">{{x.name}}</option>
                        </select>

                <h2>Skill 2: </h2>
                    <select>
                        <option ng-repeat="x in serverData">{{x.name}}</option>
                    </select>

                <h2>Skill 3: </h2>
                    <select>
                        <option ng-repeat="x in serverData">{{x.name}}</option>
                    </select>

        </div>
        <div layout="row" ng-show="curPage===7">
            <b>Equipment: </b>
            <form novalidate>

                <label> Choose a Weapon:
                    <select ng-model="weaponCtrl.value" ng-model-options="{ getterSetter: true }">
                        <option ng-repeat="x in serverData" value="{{x.weaponId}}">{{x.name}}</option>
                    </select>
                </label>
                <br> <br>
                <p>Weapon Description:</p>
                <div ng-repeat="x in serverData" ng-show="weaponCtrl.value() == x.weaponId">
                    <p> Weapon Name: {{x.name}} <br>
                        Weapon Type : {{x.type}} <br>
                        Weapon Damage : {{x.damage}} <br>
                        Weapon Weight : {{x.weight}} <br>
                        Weapon Properties : {{x.properties}} </p>
                </div>
            </form>
        </div>
        <div layout="row" ng-show="curPage===8">
            <b>Characteristics</b>
        </div>
        <div layout="row" ng-show="curPage===9">
            <b>Personality</b>
        </div>
    </div>

    <div layout="row"  ng-show="logged_in">
        <button ng-click="prev()">Back</button>
        <button ng-click="next()">Next</button>
    </div>

</div>

</body>

</html>